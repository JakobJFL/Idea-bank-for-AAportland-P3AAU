@code {
    //[Fact]
    //public void ShouldRedirectToLogin()
    //{
    //  // arrange
    //  var ctx = InitializeTestContext();
    //  ctx.Services.GetRequiredService<NavigationManager>();

    //  // act
    //  var cut = ctx.Render(@<MainLayout />);
    //  ctx.Services.GetRequiredService<NavigationManager>().NavigateTo("http://localhost/Identity/Account/Register");

    //  // assert
    //  Assert.Equal("http://localhost/Identity/Account/Login", ctx.Services.GetRequiredService<NavigationManager>().Uri);

    //}

    private TestContext InitializeTestContext()
    {
      var ctx = new TestContext();
      ctx.AddTestAuthorization();
      ctx.Services.AddScoped<IIdeaRepository, IdeaRepository>();
      ctx.Services.AddScoped<ICommentsRepository, CommentsRepository>();
      ctx.Services.AddScoped<IConfigurationRepository, ConfigurationRepository>();
      ctx.Services.AddScoped<IConfig, Config>();
      ctx.Services.AddScoped<IIdeasDataAccess, IdeasDataAccess>();
      ctx.Services.AddSingleton<Settings>();
      ctx.Services.AddScoped<ICommentsDataAccess, CommentsDataAccess>();
      ctx.Services.AddDbContext<Context>(options =>
      {
        options.UseSqlServer("Data Source=(localdb)\\MSSQLLocalDB;Initial Catalog=IdeaBank;Integrated Security=True;Connect Timeout=30;Encrypt=False;TrustServerCertificate=False;ApplicationIntent=ReadWrite;MultiSubnetFailover=False");
      });
      return ctx;
    }
}